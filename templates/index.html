<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Secure Form</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="form-container">
    <img src="{{ url_for('static', filename='img.png') }}" alt="Logo" class="logo">
    <form method="POST" action="/submit" novalidate>
        {{ form.hidden_tag() }}

        <label for="name">Name *</label>
        {{ form.name(class="form-field", id="name", placeholder="Enter your name", maxlength="30") }}
        <span class="error-msg" id="name-error">{{ form.name.errors[0] if form.name.errors else '' }}</span>

        <label for="email">Email *</label>
        {{ form.email(class="form-field", id="email", placeholder="Enter your email", maxlength="30") }}
        <span class="error-msg" id="email-error">{{ form.email.errors[0] if form.email.errors else '' }}</span>

        <label for="phone">Phone *</label>
        {{ form.phone(class="form-field", id="phone", placeholder="Enter your phone number") }}
        <span class="error-msg" id="phone-error">{{ form.phone.errors[0] if form.phone.errors else '' }}</span>

        <label for="prefer_time">Preferred Time *</label>
        {{ form.prefer_time(class="form-field", id="prefer_time") }}
        <span class="error-msg" id="prefer_time-error">{{ form.prefer_time.errors[0] if form.prefer_time.errors else '' }}</span>

        <label for="captcha">Enter CAPTCHA *</label>
        <div class="captcha-container">
            <img src="{{ url_for('generate_captcha') }}" alt="CAPTCHA" id="captcha-img" class="captcha-image" data-base-url="{{ url_for('generate_captcha') }}">
            <button type="button" id="refresh-captcha" class="captcha-refresh">Refresh</button>
        </div>
        {{ form.captcha(class="form-field", id="captcha", placeholder="Enter the text shown above", maxlength="5") }}
        <span class="error-msg" id="captcha-error">{{ form.captcha.errors[0] if form.captcha.errors else '' }}</span>

        {{ form.submit(class="form-field", id="submit-btn", disabled=true) }}
    </form>
</div>

<!-- Link to external JS -->
<script src="{{ url_for('static', filename='main.min.js') }}"></script>
</body>
</html>
